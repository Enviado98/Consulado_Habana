/* ----------------------------------------------------------------
   ESTILOS BASE - FUSIONADOS Y OPTIMIZADOS
   ---------------------------------------------------------------- */
*, *::before, *::after {
  box-sizing: border-box;
}

:root {
  --color-texto-principal: #2b2d42; /* Azul Oscuro */
  --color-texto-secundario: #8d99ae; /* Gris Suave */
  --acento-rojo: #ef233c; /* Rojo Consular */
  --acento-verde: #0d9488; /* Verde Guardar */
  /* ⭐ MODIFICADO: FONDO VERDE CLARO DEGRADADO (FONDO GENERAL DE LA WEB) ⭐ */
  --fondo-principal: #e6ffe6; 
  --fondo-gradiente: linear-gradient(180deg, var(--fondo-principal) 0%, #f0fff0 100%); 
  --sombra-fuerte: rgba(0, 0, 0, 0.25);
  --sombra-suave: rgba(0, 0, 0, 0.1);
  /* Glassmorphism settings - CLAVE PARA LA 'BELLEZA' */
  --glass-bg: rgba(255, 255, 255, 0.4); 
  --glass-border: rgba(255, 255, 255, 0.6); 
  /* Nuevo color de acento cian */
  --acento-cian: #00bcd4; 
  /* Colores para el panel de tiempo */
  --tiempo-panel-rojo: #f7a2ab; 
  --tiempo-panel-cian: #c4f0f7;
  /* Color del panel de estado - ⭐ MODIFICADO: AMARILLO INTENSO ⭐ */
  --fondo-panel-status: #ffd400; 

  /* Colores de comentarios y respuestas */
  --color-comentario-fondo: #ffffff;
  --color-respuesta-fondo: #f7f7f7;
  --color-borde-hilo: #00bcd433; /* Cian suave */
  --color-like: #ff3864; 
}

body {
  font-family: 'Nunito', sans-serif;
  margin: 0;
  padding: 0;
  color: var(--color-texto-principal);
  background: var(--fondo-gradiente); /* Uso del degradado en el body */
  min-height: 100vh;
}

/* ----------------------------------------------------------------
   HEADER Y PANCARTA DE NOTICIAS (TICKER)
   ---------------------------------------------------------------- */
header {
  text-align: center;
  padding: 20px 10px;
  background: var(--fondo-gradiente); /* ⭐ MODIFICADO: APLICACIÓN DE DEGRADADO AL HEADER ⭐ */
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--sombra-suave);
}

header h1 {
  margin: 0 0 5px 0;
  font-size: 1.6rem;
  font-weight: 900;
}

header p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--color-texto-secundario);
}

/* ... (El resto del ticker CSS permanece igual) ... */
.news-ticker-container {
    position: sticky;
    top: 0px; 
    z-index: 1001; /* Asegura que esté por encima del header al hacer scroll */
    background-color: var(--acento-rojo);
    color: white;
    padding: 5px 10px;
    display: flex;
    align-items: center;
    overflow: hidden;
    white-space: nowrap;
    box-shadow: 0 2px 4px var(--sombra-suave);
}

.news-ticker-label {
    flex-shrink: 0;
    font-weight: 700;
    margin-right: 15px;
    animation: pulse 1s infinite;
}
/* ----------------------------------------------------------------
   PANEL DE ESTADO ECONÓMICO Y ENERGÉTICO
   ---------------------------------------------------------------- */
.status-panel-container {
    /* Fondo: ⭐ MODIFICADO A AMARILLO INTENSO ⭐ */
    background-color: var(--fondo-panel-status); 
    color: var(--color-texto-principal);
    padding: 12px 15px;
    margin: 10px auto;
    max-width: 900px;
    border-radius: 12px;
    box-shadow: 0 4px 8px var(--sombra-suave);
    font-size: 1rem;
    font-weight: 700;
    display: flex;
    flex-direction: column;
}

.status-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    gap: 10px; /* Espacio entre los elementos */
}

.status-panel-header span:first-child {
    font-size: 1.1rem;
    flex-grow: 1; /* Permite que el título ocupe el espacio restante */
}

/* Estilo para la fecha de última edición */
#lastEditedTime {
    /* Tamaño: ⭐ MODIFICADO A 30% MÁS PEQUEÑO ⭐ */
    font-size: 0.7rem; 
    font-weight: 900;
    color: white;
    /* Fondo: ⭐ MODIFICADO A ROJO PARA LLAMAR LA ATENCIÓN ⭐ */
    background-color: var(--acento-rojo); 
    padding: 3px 6px;
    border-radius: 5px;
    flex-shrink: 0; /* Evita que el texto se comprima */
}

.status-panel-data {
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: 20px;
}

.status-data-item {
    text-align: center;
}

.status-data-item span:first-child {
    font-size: 0.85rem;
    display: block;
    color: var(--color-texto-secundario);
}

.status-data-item span:last-child {
    font-size: 1.3rem;
    font-weight: 900;
    display: block;
}

/* Estilos de edición del panel de estado */
.status-panel-data input {
    /* ... (Estilos de input permanecen igual) ... */
    max-width: 80px;
    text-align: center;
    font-size: 1rem;
    padding: 3px 5px;
    border: 1px solid var(--acento-rojo);
    border-radius: 5px;
}

/* ----------------------------------------------------------------
   CONTENEDOR DE TARJETAS (CARDS)
   ---------------------------------------------------------------- */
.container {
  max-width: 900px;
  margin: 10px auto 20px auto;
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

/* ... (El resto de los estilos de cards permanecen iguales) ... */
.card {
  /* Glassmorphism base */
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  
  border-radius: 15px;
  padding: 15px;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  box-shadow: 0 4px 8px var(--sombra-suave);
  position: relative;
  overflow: hidden; /* Para contener el panel de tiempo */
  transition: transform 0.2s, box-shadow 0.2s, border-color 0.4s;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px var(--sombra-fuerte);
}

.card-recent {
    border-left: 5px solid var(--acento-rojo); 
    box-shadow: 0 0 15px rgba(239, 35, 60, 0.4); 
}

.card-old {
    border-left: 5px solid var(--acento-cian); 
    box-shadow: 0 0 15px rgba(0, 188, 212, 0.4); 
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 5px;
}

.card h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 800;
  line-height: 1.2;
}

.card span.emoji {
  font-size: 1.6rem;
  margin-left: 10px;
  line-height: 1;
  flex-shrink: 0;
}

.card-content p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--color-texto-secundario);
  white-space: pre-wrap;
}

/* Botón de tiempo */
.time-btn {
    align-self: flex-end; 
    font-size: 0.75rem;
    color: var(--color-texto-secundario);
    cursor: pointer;
    margin-top: 5px;
    border: none;
    background: none;
    padding: 0;
    transition: color 0.2s;
}

.time-btn:hover {
    color: var(--acento-rojo);
}

/* Panel de tiempo deslizable */
.card-time-panel {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* Estilos de glassmorphism para el panel */
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transform: translateX(100%); /* Oculto a la derecha */
    transition: transform 0.4s ease-out;
    border-radius: 15px; /* Para coincidir con la tarjeta */
    z-index: 5;
    padding: 10px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
}

.card-time-panel.show {
    transform: translateX(0); /* Se muestra */
}

.card-time-panel p {
    margin: 5px 0;
    font-weight: 700;
    font-size: 0.9rem;
    color: var(--color-texto-principal);
}

.card-time-panel span {
    font-weight: 400;
    font-size: 0.8rem;
    display: block;
    color: var(--color-texto-secundario);
}

.time-close-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: none;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--acento-rojo);
}

/* Colores de fondo para el panel de tiempo según la antigüedad */
.card-recent .card-time-panel {
    background: var(--tiempo-panel-rojo);
}

.card-old .card-time-panel {
    background: var(--tiempo-panel-cian);
}

/* ----------------------------------------------------------------
   CONTROLES DE ADMINISTRACIÓN
   ---------------------------------------------------------------- */
.login-controls {
    text-align: center;
    margin: 10px auto;
    max-width: 900px;
    padding: 0 20px;
}

#loginForm, #adminControlsPanel {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 10px;
}

#loginForm {
    /* Por defecto se muestra, si hay adminControls, se oculta con JS */
}

#adminControlsPanel {
    display: none; /* Oculto por defecto */
    padding: 10px;
    border: 1px dashed var(--acento-rojo);
    border-radius: 10px;
    background-color: var(--fondo-principal);
}

.login-controls input {
    padding: 8px 10px;
    border: 1px solid var(--color-texto-secundario);
    border-radius: 5px;
    font-size: 0.9rem;
}

.login-controls button {
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s;
}

#loginBtn {
    background-color: var(--color-texto-principal);
    color: white;
}

#loginBtn:hover {
    background-color: #495469;
}

#saveBtn {
    background-color: var(--acento-verde);
    color: white;
}

#saveBtn:hover {
    background-color: #12b0a3;
}

.admin-btn {
    background-color: var(--acento-cian);
    color: var(--color-texto-principal);
}

.admin-btn:hover {
    background-color: #4ddef1;
}

#logoutBtn {
    background-color: var(--acento-rojo);
    color: white;
}

#logoutBtn:hover {
    background-color: #ff5c73;
}

/* ----------------------------------------------------------------
   ESTILOS DE EDICIÓN (ADMIN MODE)
   ---------------------------------------------------------------- */
.card.editing {
    border: 2px solid var(--acento-rojo);
    background-color: #fff0f2;
    box-shadow: 0 0 20px rgba(239, 35, 60, 0.6);
}

.card input[type="text"], .card textarea {
    width: 100%;
    padding: 5px;
    margin-bottom: 5px;
    border: 1px solid var(--acento-rojo);
    border-radius: 3px;
    font-size: 0.9rem;
    resize: vertical;
}

.card textarea {
    min-height: 50px;
}

/* Ocultar botones no deseados en modo edición */
.editing .time-btn {
    display: none;
}


/* ----------------------------------------------------------------
   SECCIÓN DE COMENTARIOS (HILOS)
   ---------------------------------------------------------------- */
.comments-section {
    max-width: 900px;
    margin: 20px auto 40px auto;
    padding: 20px;
    border-radius: 15px;
    background: var(--glass-bg); /* Estilo glassmorphism */
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 4px 8px var(--sombra-suave);
}

.comments-section h2 {
    text-align: center;
    color: var(--acento-rojo);
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.5rem;
    font-weight: 900;
}

/* Contenedor principal de comentarios */
.comments-display-wrap {
    max-height: 600px;
    overflow-y: auto;
    padding-right: 10px; /* Espacio para el scrollbar */
}

/* Lista de comentarios */
.comments-list-container {
    list-style: none;
    padding: 0;
}

.comment-item {
    border-left: 3px solid var(--acento-rojo);
    padding: 10px 15px;
    margin-bottom: 15px;
    border-radius: 5px;
    background-color: var(--color-comentario-fondo);
    box-shadow: 0 1px 3px var(--sombra-suave);
}

.comment-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    font-size: 0.85rem;
}

.comment-author {
    font-weight: 900;
    margin-right: 10px;
}

.comment-date {
    color: var(--color-texto-secundario);
    font-size: 0.75rem;
}

.comment-text {
    font-size: 0.95rem;
    white-space: pre-wrap;
    word-wrap: break-word;
    margin: 5px 0 10px 0;
    line-height: 1.4;
}

/* Acciones (Reply, Like) */
.comment-actions {
    display: flex;
    gap: 15px;
    font-size: 0.8rem;
}

.comment-actions button {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--color-texto-secundario);
    transition: color 0.2s;
    display: flex;
    align-items: center;
    padding: 0;
}

.comment-actions button:hover {
    color: var(--acento-rojo);
}

.comment-actions .like-count {
    margin-left: 5px;
    font-weight: 700;
}

.comment-actions button.liked {
    color: var(--color-like);
    font-weight: 700;
}

/* Contenedor de respuestas (Hilos) */
.replies-container {
    border-left: 2px solid var(--color-borde-hilo);
    margin-top: 10px;
    padding-left: 20px; /* Separación visual para el hilo */
}

.reply-item {
    padding: 8px 10px;
    margin-top: 10px;
    border-radius: 5px;
    background-color: var(--color-respuesta-fondo);
    font-size: 0.9rem;
    border-left: 3px solid var(--acento-cian);
}

.reply-item .comment-text {
    font-size: 0.9rem;
}

/* Formulario de Respuesta */
.reply-form {
    background-color: #f0f0ff;
    padding: 10px;
    border-radius: 5px;
    margin-top: 5px;
    border: 1px solid #d4d4f7;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.reply-form input[type="text"], .reply-form textarea {
    padding: 5px;
    border: 1px solid #c0c0e0;
    border-radius: 3px;
    font-size: 0.85rem;
    resize: vertical;
}

.reply-form button {
    align-self: flex-start;
    padding: 5px 10px;
    background-color: var(--acento-cian);
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.8rem;
}

/* Formulario principal de comentarios */
.comment-form-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid var(--glass-border);
}

.comment-form-container input[type="text"], .comment-form-container textarea {
    padding: 10px;
    border: 1px solid var(--color-texto-secundario);
    border-radius: 8px;
    font-size: 1rem;
}

.comment-form-container textarea {
    resize: vertical;
    min-height: 80px;
}

#publishCommentBtn {
    padding: 10px 15px;
    background-color: var(--acento-verde);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s;
}

#publishCommentBtn:hover {
    background-color: #12b0a3;
}


/* ----------------------------------------------------------------
   FOOTER
   ---------------------------------------------------------------- */
footer {
    text-align: center;
    padding: 15px 10px;
    border-top: 1px solid var(--glass-border);
    background-color: rgba(255, 255, 255, 0.5); /* Fondo semitransparente */
    color: var(--color-texto-secundario);
    font-size: 0.8rem;
}

footer p {
    margin: 5px 0;
}


/* ----------------------------------------------------------------
   AJUSTES RESPONSIVE
   ---------------------------------------------------------------- */
/* Tabletas (800px) */
@media (max-width: 800px) {
    .container {
        grid-template-columns: repeat(2, 1fr); 
        gap: 10px;
        padding: 15px;
    }
    .card {
        min-height: 100px;
        padding: 10px;
    }
    .status-panel-data {
        flex-wrap: wrap; /* Permite que los elementos de estado bajen de línea */
    }
}

/* Móviles (600px y menos) */
@media (max-width: 600px) {
    header h1 { font-size: 1.2rem; }
    .container { grid-template-columns: repeat(2, 1fr); gap: 8px; padding: 10px; }
    .card { min-height: 95px; padding: 6px; }
    .card span.emoji { font-size: 1.3rem; }
    .card h3 { font-size: 0.85rem; }
    .card-content p { font-size: 0.75rem; }
    .login-controls input, .login-controls button, #adminControlsPanel button { font-size: 0.75rem; padding: 6px 8px; }
    .comments-section h2 { font-size: 1.1rem; }
    .comment-actions { font-size: 0.7rem; gap: 5px; }
    .replies-container { padding-left: 10px; }
    .comment-item { padding: 8px; }
    .reply-item { padding: 6px; }

    /* ⭐ AJUSTES ESPECÍFICOS PARA MANTENER EL PANEL COMPACTO Y HORIZONTAL EN MÓVIL ⭐ */
    .status-panel-container {
        font-size: 0.8rem;
        padding: 8px 10px;
    }
    .status-panel-data {
        flex-direction: row; /* MANTIENE EN FILA */
        flex-wrap: nowrap;
        overflow-x: auto;
        padding-bottom: 5px; /* Espacio para el scroll si no cabe */
        justify-content: flex-start; /* Alinea al inicio si hay scroll */
    }
    .status-data-item {
        flex-shrink: 0;
        margin-right: 15px;
    }
    .status-panel-header span:first-child {
        font-size: 0.9rem;
    }
    #lastEditedTime {
        font-size: 0.65rem; /* Ajuste para móviles */
        padding: 2px 4px;
    }

}
